(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,s){e.exports={nav:"NavigationBar_nav__3T_Q_",item:"NavigationBar_item__2WusY",activeLink:"NavigationBar_activeLink__3g1O2",forFriendsBar:"NavigationBar_forFriendsBar__3pbat"}},26:function(e,t,s){e.exports={active:"DialogsItem_active__1CByC",dialog:"DialogsItem_dialog__10Cxi",userAvatar:"DialogsItem_userAvatar__2uexI",user:"DialogsItem_user__hDg_H"}},27:function(e,t,s){e.exports={errorInput:"Login_errorInput__T9LbL",errorText:"Login_errorText__iuBRX"}},29:function(e,t,s){e.exports={item:"Posts_item__3c2TU",postsBlock:"Posts_postsBlock__2IEcS",posts:"Posts_posts__3IuBo",errorInput:"Posts_errorInput__6f7nX",errorText:"Posts_errorText__EEjos"}},30:function(e,t,s){e.exports={tableDialogs:"Dialogs_tableDialogs__1U6dp",dialogsItems:"Dialogs_dialogsItems__2-5Hy",active:"Dialogs_active__2m3TZ",dialog:"Dialogs_dialog__MkstQ",messages:"Dialogs_messages__2hjt0",message:"Dialogs_message__kdskK",errorInput:"Dialogs_errorInput__1c883",errorText:"Dialogs_errorText__2AH3O"}},40:function(e,t,s){e.exports={userPhoto:"Users_userPhoto__3EjdH",selectedPage:"Users_selectedPage__A5Umt"}},41:function(e,t,s){e.exports={header:"Header_header__3yJ3n",loginBlock:"Header_loginBlock__19NIM"}},43:function(e,t,s){},56:function(e,t,s){e.exports={themeImg:"ProfileInfo_themeImg__ltVV3",descriptionBlock:"ProfileInfo_descriptionBlock__P8cTM"}},57:function(e,t,s){e.exports={img:"NewPost_img__30RhW"}},61:function(e,t,s){e.exports={message:"Message_message__3HYaI"}},87:function(e,t,s){},90:function(e,t,s){"use strict";s.r(t);s(43);var n=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,91)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;s(e),n(e),a(e),r(e),i(e)}))},a=s(1),r=s.n(a),i=s(31),c=s.n(i),o=s(8),u=s(25),l=s(2),d=s(53),j=s.n(d).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"cc3df63a-f5f2-455f-9c95-f8ce5b37aa87"}}),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return j.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},p=function(e){return j.post("follow/".concat(e)).then((function(e){return e.data}))},h=function(e){return j.delete("follow/".concat(e)).then((function(e){return e.data}))},g=function(e){return console.warn("Obsolete method. Please use profileApi object."),O.getUserProfile(e)},O={getUserProfile:function(e){return j.get("profile/"+e).then((function(e){return e.data}))},getUserStatus:function(e){return j.get("profile/status/"+e)},updateUserStatus:function(e){return j.put("profile/status",{status:e})}},m=function(){return j.get("auth/me").then((function(e){return e.data}))},f=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return j.post("auth/login",{email:e,password:t,rememberMe:s})},v=function(){return j.delete("auth/login")},x=function(e){return{type:"SET_STATUS",status:e}},_=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},S=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},P=function(e,t){return{type:"TOGGLE_FOLLOWING_IS_FETCHING",userId:t,toggle:e}},w={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},I=function(e){return{type:"SET_USER_PROFILE",usersProfiles:e}},N={postsData:[{id:1,message:"Hello!How are you?",likes:10},{id:2,message:"I saw you yesterday",likes:30},{id:3,message:"Buy some potatoes?",likes:0},{id:4,message:"I want cheese",likes:10},{id:5,message:"Hurry",likes:100}],usersProfiles:null,status:""},C={dialogsData:[{id:1,name:"Yauheni",avatar:"https://twitchgid.ru/wp-content/uploads/2020/11/avi-19.jpeg"},{id:2,name:"Nina",avatar:"https://twitchgid.ru/wp-content/uploads/2020/11/avi-10.jpeg"},{id:3,name:"Alina",avatar:"https://twitchgid.ru/wp-content/uploads/2020/11/avi-12.jpeg"},{id:4,name:"Nasty",avatar:"https://twitchgid.ru/wp-content/uploads/2020/11/avi-18.jpeg"},{id:5,name:"Ira",avatar:"https://twitchgid.ru/wp-content/uploads/2020/11/avi-6.jpeg"}],messagesDataPosts:[{id:1,message:"Hi sweet!"},{id:2,message:"How are you?"},{id:3,message:"Go home!"},{id:4,message:"Try again tomorrow."},{id:5,message:"No."}]},y={friendsNavigationBar:{friends:[{id:1,name:"Jeka",avatar:"https://twitchgid.ru/wp-content/uploads/2020/11/avi-6.jpeg"},{id:2,name:"Lesya",avatar:"https://twitchgid.ru/wp-content/uploads/2020/11/avi-1.jpeg"},{id:3,name:"Vera",avatar:"https://twitchgid.ru/wp-content/uploads/2020/11/avi-16.jpeg"}]}},D=function(e,t,s,n){return{type:"SET_USER_DATA",payload:{userId:e,login:t,email:s,isAuth:n}}},T={userId:void 0,login:null,email:null,isAuth:!1,authError:null},E=function(){return function(e){m().then((function(t){if(0===t.resultCode){var s=t.data,n=s.id,a=s.login,r=s.email;e(D(n,a,r,!0))}}))}},U=function(e,t,s){return function(n){f(e,t,s).then((function(e){if(0===e.data.resultCode)n(E());else{var t=e.data.messages.lenght>0?e.data.messages[0]:"Some error with auth";n({type:"SET_AUTH_ERROR_RES_FROM_SERVER",authError:t})}}))}},k=s(54),A={initialized:!1},F=Object(o.b)({mainContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var s=Object(l.a)(Object(l.a)({},e),{},{postsData:[].concat(Object(u.a)(e.postsData),[{id:5,message:t.newPost,likes:155}])});return s;case"SET_USER_PROFILE":return Object(l.a)(Object(l.a)({},e),{},{usersProfiles:t.usersProfiles});case"SET_STATUS":return Object(l.a)(Object(l.a)({},e),{},{status:t.status});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return Object(l.a)(Object(l.a)({},e),{},{messagesDataPosts:[].concat(Object(u.a)(e.messagesDataPosts),[{id:6,message:t.newMessage}])});default:return e}},navigationBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;return e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(l.a)(Object(l.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(l.a)(Object(l.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(l.a)(Object(l.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(l.a)(Object(l.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(l.a)(Object(l.a)({},e),{},{users:t.newUsers});case"SET_CURRENT_PAGE":return Object(l.a)(Object(l.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(l.a)(Object(l.a)({},e),{},{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(l.a)(Object(l.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_FOLLOWING_IS_FETCHING":return Object(l.a)(Object(l.a)({},e),{},{followingInProgress:t.toggle?[].concat(Object(u.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(l.a)(Object(l.a)({},e),t.payload);case"SET_AUTH_ERROR_RES_FROM_SERVER":return Object(l.a)(Object(l.a)({},e),{},{authError:t.authError});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(l.a)(Object(l.a)({},e),{},{initialized:!0});default:return e}}}),L=Object(o.d)(F,Object(o.a)(k.a));window.store=L;var R=s(7),M=s(5),B=s(15),G=s(16),H=s(18),z=s(17),J=(s(87),s(0)),V=function(){return Object(J.jsx)("div",{children:"News"})},W=function(){return Object(J.jsx)("div",{children:"Music"})},q=function(){return Object(J.jsx)("div",{children:"Settings"})},Q=s(4),Y=s(10),Z=s.n(Y),K=function(){return Object(J.jsxs)("nav",{className:Z.a.nav,children:[Object(J.jsx)("div",{className:Z.a.item,children:Object(J.jsx)(R.b,{to:"/profile",activeClassName:Z.a.activeLink,children:"Profile"})}),Object(J.jsx)("div",{className:"".concat(Z.a.item),children:Object(J.jsx)(R.b,{to:"/dialogsPage",activeClassName:Z.a.activeLink,children:"Messages"})}),Object(J.jsx)("div",{className:"".concat(Z.a.item),children:Object(J.jsx)(R.b,{to:"/news",activeClassName:Z.a.activeLink,children:"News"})}),Object(J.jsx)("div",{className:"".concat(Z.a.item),children:Object(J.jsx)(R.b,{to:"/music",activeClassName:Z.a.activeLink,children:"Music"})}),Object(J.jsx)("div",{className:"".concat(Z.a.item),children:Object(J.jsx)(R.b,{to:"/settings",activeClassName:Z.a.activeLink,children:"Settings"})}),Object(J.jsx)("div",{className:"".concat(Z.a.item),children:Object(J.jsx)(R.b,{to:"/users",activeClassName:Z.a.activeLink,children:"Users"})})]})},X=s(40),$=s.n(X),ee=s.p+"static/media/ironman-marvel-super-hero-earth-saver-avenger.f976e147.png",te=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),s=[],n=1;n<=t;n++)s.push(n);return Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{children:s.map((function(t){return Object(J.jsx)("span",{className:e.currentPage===t?$.a.selectedPage:"",onClick:function(){e.onPageChanged(t)},children:t},t.toString())}))}),e.users.map((function(t){return Object(J.jsxs)("div",{children:[Object(J.jsxs)("span",{children:[Object(J.jsx)("div",{children:Object(J.jsx)(R.b,{to:"/profile/"+t.id,children:Object(J.jsx)("img",{src:t.photos.small?t.photos.small:ee,alt:"yourFace",className:$.a.userPhoto})})}),Object(J.jsx)("div",{children:t.followed?Object(J.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unFollow(t.id)},children:"Unfollow"}):Object(J.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)},children:"Follow"})})]}),Object(J.jsxs)("span",{children:[Object(J.jsxs)("span",{children:[Object(J.jsx)("div",{children:t.name}),Object(J.jsx)("div",{children:t.status})]}),Object(J.jsxs)("span",{children:[Object(J.jsx)("div",{}),Object(J.jsx)("div",{})]})]})]},t.id)}))]})},se=s.p+"static/media/Spin-1s-200px.b988d774.svg",ne=function(){return Object(J.jsx)("div",{children:Object(J.jsx)("img",{src:se,alt:""})})},ae=s(55),re=Object(ae.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),ie=function(e){return e.usersPage.pageSize},ce=function(e){return e.usersPage.totalUsersCount},oe=function(e){return e.usersPage.currentPage},ue=function(e){return e.usersPage.isFetching},le=function(e){return e.usersPage.followingInProgress},de=function(e){Object(H.a)(s,e);var t=Object(z.a)(s);function s(){var e;Object(B.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize),e.props.setCurrentPage(t)},e}return Object(G.a)(s,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(J.jsxs)(J.Fragment,{children:[this.props.isFetching?Object(J.jsx)(ne,{}):null,Object(J.jsx)(te,{totalUsersCount:this.props.totalUsersCount,users:this.props.users,setCurrentPage:this.props.setCurrentPage,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,isFetching:this.props.isFetching,followingInProgress:this.props.followingInProgress,getUsers:this.props.getUsers,follow:this.props.follow,unFollow:this.props.unFollow})]})}}]),s}(r.a.Component),je=Object(o.c)(Object(M.b)((function(e){return{users:re(e),pageSize:ie(e),totalUsersCount:ce(e),currentPage:oe(e),isFetching:ue(e),followingInProgress:le(e)}}),{setCurrentPage:_,toggleFollowingFetching:P,getUsers:function(e,t){return function(s){s(S(!0)),s(_(e)),b(e,t).then((function(e){s(S(!1)),s({type:"SET_USERS",newUsers:e.items}),s({type:"SET_TOTAL_USERS_COUNT",count:e.totalCount})}))}},follow:function(e){return function(t){t(P(!0,e)),p(e).then((function(s){0===s.resultCode&&t(function(e){return{type:"FOLLOW",userID:e}}(e))})),t(P(!1,e))}},unFollow:function(e){return function(t){t(P(!0,e)),h(e).then((function(s){0===s.resultCode&&t(function(e){return{type:"UNFOLLOW",userID:e}}(e))})),t(P(!1,e))}}}))(de),be=s(56),pe=s.n(be),he=s(42),ge=function(e){var t=Object(a.useState)(!1),s=Object(he.a)(t,2),n=s[0],r=s[1],i=Object(a.useState)(e.status),c=Object(he.a)(i,2),o=c[0],u=c[1];Object(a.useEffect)((function(){u(e.status)}),[e.status]);return Object(J.jsxs)("div",{children:[!n&&Object(J.jsx)("div",{children:Object(J.jsx)("span",{onDoubleClick:function(){r(!0)},children:e.status||"------"})}),n&&Object(J.jsx)("div",{children:Object(J.jsx)("input",{value:o,onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(o)}})})]})},Oe=function(e){return e.profile?Object(J.jsx)("div",{children:Object(J.jsxs)("div",{className:pe.a.descriptionBlock,children:[Object(J.jsx)("img",{src:e.profile.photos.large,alt:""}),Object(J.jsx)(ge,{status:e.status,updateStatus:e.updateStatus}),Object(J.jsxs)("div",{children:["fullName: ",e.profile.fullName]}),Object(J.jsxs)("div",{children:["aboutMe: ",e.profile.aboutMe]}),Object(J.jsxs)("div",{children:["lookingForAJob:",e.profile.lookingForAJob]}),Object(J.jsxs)("div",{children:["github: ",e.profile.contacts.github]})]})}):Object(J.jsx)(ne,{})},me=s(29),fe=s.n(me),ve=s(57),xe=s.n(ve),_e=function(e){return Object(J.jsxs)("div",{children:[Object(J.jsx)("img",{className:xe.a.img,src:"https://www.meme-arsenal.com/memes/1217413852947b0ec148f82a87e89ddc.jpg",alt:"postImage"}),e.message,Object(J.jsxs)("div",{children:["Likes ",e.likes]})]})},Se=s(21),Pe=function(e){var t=e.postsData.map((function(e){return Object(J.jsx)(_e,{id:e.id,message:e.message,likes:e.likes},e.id)}));return Object(J.jsxs)("div",{className:fe.a.postsBlock,children:[Object(J.jsx)("h3",{children:"My posts"}),Object(J.jsx)("div",{className:fe.a.item,children:Object(J.jsx)(we,{callback:e.addPost,buttonTitle:"Send Post"})}),Object(J.jsx)("div",{className:fe.a.posts,children:t})]})},we=function(e){return Object(J.jsx)(Se.b,{initialValues:{post:""},validate:function(e){var t={};return e.post?e.post.length>15&&(t.post="Post must be less 15 symbols"):t.post="Required",t},onSubmit:function(t,s){(0,s.setSubmitting)(!1),e.callback(t.post)},children:function(t){var s=t.values,n=t.errors,a=t.touched,r=t.handleChange,i=t.handleBlur,c=t.handleSubmit,o=t.isSubmitting;return Object(J.jsxs)("form",{onSubmit:c,children:[Object(J.jsx)("div",{children:Object(J.jsx)(Se.a,{style:n.post&&a.post&&{border:"1px solid red"},name:"post",component:"textarea",placeholder:"write your post",onChange:r,onBlur:i,value:s.post})}),a.post&&n.post&&Object(J.jsx)("div",{className:fe.a.errorText,children:n.post}),Object(J.jsx)("div",{children:Object(J.jsx)("button",{type:"submit",disabled:o,children:e.buttonTitle})})]})}})},Ie=function(e){Object(H.a)(s,e);var t=Object(z.a)(s);function s(){return Object(B.a)(this,s),t.apply(this,arguments)}return Object(G.a)(s,[{key:"render",value:function(){return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Pe,{addPost:this.props.addPost,postsData:this.props.postsData})})}}]),s}(r.a.Component),Ne=Object(o.c)(Object(M.b)((function(e){return{postsData:e.mainContent.postsData}}),{addPost:function(e){return{type:"ADD_POST",newPost:e}}}))(Ie),Ce=function(e){return Object(J.jsxs)("div",{children:[Object(J.jsx)(Oe,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(J.jsx)(Ne,{})]})},ye=s(60),De=["isAuth"],Te=function(e){return{isAuth:e.auth.isAuth}};function Ee(e){return Object(M.b)(Te)((function(t){var s=t.isAuth,n=Object(ye.a)(t,De);return s?Object(J.jsx)(e,Object(l.a)({},n)):Object(J.jsx)(Q.a,{to:"/authMe"})}))}var Ue=function(e){Object(H.a)(s,e);var t=Object(z.a)(s);function s(){return Object(B.a)(this,s),t.apply(this,arguments)}return Object(G.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserID)||this.props.history.push("/authMe"),e&&this.props.getUsersProfile(e),e&&this.props.getUserStatus(e)}},{key:"render",value:function(){return Object(J.jsx)("div",{children:Object(J.jsx)(Ce,Object(l.a)(Object(l.a)({},this.props),{},{profile:this.props.usersProfiles,status:this.props.status,updateStatus:this.props.updateUserStatus}))})}}]),s}(r.a.Component),ke=Object(o.c)(Object(M.b)((function(e){return{usersProfiles:e.mainContent.usersProfiles,status:e.mainContent.status,authorizedUserID:e.auth.userId,isAuth:e.auth.isAuth}}),{setUserProfile:I,getUsersProfile:function(e){return function(t){g(e).then((function(e){t(I(e))}))}},getUserStatus:function(e){return function(t){O.getUserStatus(e).then((function(e){t(x(e.data))}))}},updateUserStatus:function(e){return function(t){O.updateUserStatus(e).then((function(s){0===s.data.resultCode&&t(x(e))}))}}}),Q.f,Ee)(Ue),Ae=s(30),Fe=s.n(Ae),Le=s(26),Re=s.n(Le),Me=function(e){return Object(J.jsx)("div",{children:Object(J.jsx)("div",{className:"".concat(Re.a.dialog," ").concat(Re.a.active),children:Object(J.jsx)(R.b,{to:"/dialogsPage/"+e.id,children:Object(J.jsxs)("div",{className:Re.a.user,children:[Object(J.jsx)("div",{children:Object(J.jsx)("img",{className:Re.a.userAvatar,src:e.avatar,alt:"avatar"})}),Object(J.jsx)("div",{className:Re.a.userName,children:e.name})]})})})})},Be=s(61),Ge=s.n(Be),He=function(e){return Object(J.jsx)("div",{children:Object(J.jsx)("div",{className:Ge.a.message,children:e.message})})},ze=function(e){var t=e.dialogsData.map((function(e){return Object(J.jsx)(Me,{name:e.name,id:e.id,avatar:e.avatar},e.id)})),s=e.messagesDataPosts.map((function(e){return Object(J.jsx)(He,{id:e.id,message:e.message},e.id)}));return Object(J.jsxs)("div",{className:Fe.a.tableDialogs,children:[Object(J.jsx)("div",{className:Fe.a.dialogsItems,children:Object(J.jsx)("div",{children:t})}),Object(J.jsxs)("div",{className:Fe.a.messages,children:[Object(J.jsx)("div",{children:s}),Object(J.jsx)(Je,{callback:e.addMessage,buttonTitle:"Send Message"})]})]})},Je=function(e){return Object(J.jsx)(Se.b,{initialValues:{message:""},validate:function(e){var t={};return e.message?e.message.length>30&&(t.message="Message must be less 30 symbols"):t.message="Required",t},onSubmit:function(t,s){var n=s.setSubmitting;alert(JSON.stringify(t)),n(!1),e.callback(t.message)},children:function(t){var s=t.values,n=t.errors,a=t.touched,r=t.handleChange,i=t.handleBlur,c=t.handleSubmit,o=t.isSubmitting;return Object(J.jsxs)("form",{onSubmit:c,children:[Object(J.jsx)(Se.a,{style:n.message&&a.message&&{border:"1px solid red"},name:"message",component:"textarea",onChange:r,onBlur:i,value:s.message}),a.message&&n.message&&Object(J.jsx)("div",{className:Fe.a.errorText,children:n.message}),Object(J.jsx)("div",{children:Object(J.jsx)("button",{type:"submit",disabled:o,children:e.buttonTitle})})]})}})},Ve=function(e){Object(H.a)(s,e);var t=Object(z.a)(s);function s(){return Object(B.a)(this,s),t.apply(this,arguments)}return Object(G.a)(s,[{key:"render",value:function(){return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(ze,{dialogsData:this.props.dialogsData,messagesDataPosts:this.props.messagesDataPosts,addMessage:this.props.addMessage})})}}]),s}(r.a.Component),We=Object(o.c)(Object(M.b)((function(e){return{dialogsData:e.dialogsPage.dialogsData,messagesDataPosts:e.dialogsPage.messagesDataPosts}}),{addMessage:function(e){return{type:"ADD_MESSAGE",newMessage:e}}}),Ee)(Ve),qe=s(41),Qe=s.n(qe),Ye=function(e){return Object(J.jsxs)("header",{className:Qe.a.header,children:[Object(J.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQjwmALuU19xPRQx_5_ZQK8QqG5HpA79AD5Iw&usqp=CAU",alt:"nothingSpecial"}),Object(J.jsx)("div",{className:Qe.a.loginBlock,children:e.authUsersData.isAuth?Object(J.jsxs)("div",{children:[e.authUsersData.login," - ",Object(J.jsx)("button",{onClick:e.logOut,children:"Log Out"})]}):Object(J.jsx)(R.b,{to:"/authMe",children:"Login"})})]})},Ze=function(e){Object(H.a)(s,e);var t=Object(z.a)(s);function s(){return Object(B.a)(this,s),t.apply(this,arguments)}return Object(G.a)(s,[{key:"render",value:function(){return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Ye,Object(l.a)({},this.props))})}}]),s}(r.a.Component),Ke=Object(o.c)(Object(M.b)((function(e){return{authUsersData:e.auth}}),{setAuthUserData:D,logOut:function(){return function(e){v().then((function(t){0===t.data.resultCode&&e(D(void 0,null,null,!1))}))}}}))(Ze),Xe=s(27),$e=s.n(Xe),et=function(){var e=Object(M.c)(),t=Object(M.d)((function(){return L.getState().auth.authError}));return Object(J.jsx)(Se.b,{initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email||(t.email="Required"),e.password||(t.password="Required"),t},onSubmit:function(t,s){var n=s.setSubmitting;alert(JSON.stringify(t,null,2)),n(!1),e(U(t.email,t.password,t.rememberMe))},children:function(e){var s=e.values,n=e.errors,a=e.touched,r=e.handleChange,i=e.handleBlur,c=e.handleSubmit,o=e.isSubmitting;return Object(J.jsxs)("form",{onSubmit:c,children:[Object(J.jsx)("div",{children:"Email"}),Object(J.jsx)("input",{className:n.email?$e.a.errorInput:"",type:"email",name:"email",onChange:r,onBlur:i,value:s.email}),a.email&&n.email&&Object(J.jsx)("div",{className:$e.a.errorText,children:n.email}),Object(J.jsx)("div",{children:"Password"}),Object(J.jsx)("input",{className:n.password?$e.a.errorInput:"",type:"password",name:"password",onChange:r,onBlur:i,value:s.password}),a.password&&n.password&&Object(J.jsx)("div",{className:$e.a.errorText,children:n.password}),Object(J.jsxs)("div",{children:[Object(J.jsx)(Se.a,{type:"checkbox",name:"rememberMe"}),Object(J.jsx)("label",{children:"Remember Me"})]}),Object(J.jsx)("div",{className:$e.a.errorText,children:t}),Object(J.jsx)("div",{children:Object(J.jsx)("button",{type:"submit",disabled:o,children:"Submit"})})]})}})},tt=Object(M.b)((function(e){return{isAuth:e.auth.isAuth}}),{logIn:U})((function(e){return e.isAuth?Object(J.jsx)(Q.a,{to:"/profile"}):Object(J.jsxs)("div",{children:[Object(J.jsx)("h1",{children:"LOGIN"}),Object(J.jsx)(et,{})]})})),st=function(e){Object(H.a)(s,e);var t=Object(z.a)(s);function s(){return Object(B.a)(this,s),t.apply(this,arguments)}return Object(G.a)(s,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized,Object(J.jsx)(R.a,{children:Object(J.jsxs)("div",{className:"app-wrapper",children:[Object(J.jsx)(Ke,{}),Object(J.jsx)(K,{}),Object(J.jsxs)("div",{className:"app-wrapper-content",children:[Object(J.jsx)(Q.b,{path:"/profile/:userId?",render:function(){return Object(J.jsx)(ke,{})}}),Object(J.jsx)(Q.b,{path:"/dialogsPage",render:function(){return Object(J.jsx)(We,{})}}),Object(J.jsx)(Q.b,{path:"/news",component:V}),Object(J.jsx)(Q.b,{path:"/music",component:W}),Object(J.jsx)(Q.b,{path:"/settings",component:q}),Object(J.jsx)(Q.b,{path:"/users",render:function(){return Object(J.jsx)(je,{})}}),Object(J.jsx)(Q.b,{path:"/authMe",render:function(){return Object(J.jsx)(tt,{})}})]})]})})}}]),s}(r.a.Component),nt=Object(o.c)(Q.f,Object(M.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){Promise.all([e(E())]).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}))(st);c.a.render(Object(J.jsx)(R.a,{children:Object(J.jsx)(M.a,{store:L,children:Object(J.jsx)(nt,{})})}),document.getElementById("root")),n()}},[[90,1,2]]]);
//# sourceMappingURL=main.25e6a458.chunk.js.map